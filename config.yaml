# Language: German (de) or English (en)
language: "de"

# --- Core settings ---------------------------------------------------------------
core:
  # Backend selection: use "ollama" for real LLMs, "dummy" for quick echo tests
  backend: "ollama"
  # Default model name at startup
  model_name: "leo-hessianai-13b-chat.Q5" # e.g. "gptoss20b-q4ks", "mistral7b-local", or "leo-hessianai-13b-chat.Q5"
  warm_up: false
  # Base URL for Ollama (protocol + host + port), e.g. http://127.0.0.1:11434
  ollama_url: "http://127.0.0.1:11434"
  include_date: true  # master switch to add the current date to persona system prompts

# --- UI settings ---------------------------------------------------------------
ui:
  type: web   # options: "web", "terminal", or null (= API only)
  experimental:
    broadcast_mode: true  # EXPERIMENTAL: enable the ensemble broadcast toggle (/askall, WebUI)
  web:
    host: "0.0.0.0"
    port: 7860
    share: false  # enable to publish a public Gradio share link
    share_auth:
      username: ""
      password: ""

# --- Wiki settings (including spacey-Keyword-Finder) -------------------------------------------------------------
wiki:
  # offline uses Kiwix, online calls Wikipedia, false disables wiki snippets
  mode: offline
  # spaCy model variant for keyword extraction: "medium" or "large"
  spacy_model_variant: "large"
  spacy_modell_map:
    de:
      medium: "de_core_news_md"
      large:  "de_core_news_lg"
    en:
      medium: "en_core_web_md"
      large:  "en_core_web_lg"
  online_base_url_map:
    de: "https://de.wikipedia.org"
    en: "https://en.wikipedia.org"
  # Port of the local proxy (always required)
  proxy_port: 8042
  # Maximum wiki snippet length in characters (recommend 1200â€“1600)
  snippet_limit: 1200
  timeout_connect: 5.0
  timeout_read: 8.0
  offline:  # only relevant when mode == "offline" (Kiwix-based wiki mode)
    host: "127.0.0.1"  # preferred host for kiwix-serve; faster than localhost
    kiwix_port: 8080 #
    zim_prefix: "wikipedia_de_all_nopic_2025-06"
    autostart: true
    kiwix_exe: "C:/wikipedia-de-offline/kiwix-serve.exe"   # path to kiwix-serve (Windows example)
    zim_path: "C:\\wikipedia-de-offline\\wikipedia_de_all_nopic_2025-06.zim"
    startup_timeout_s: 7

# --- Logging -------------------------------------------------------------------
logging:
  level: "INFO"   # valid levels: DEBUG, INFO, WARNING, ERROR
  to_console: "auto" # "true", "false" or "auto" (auto: false if terminal-ui, otherwise true)
  dir: "logs"
  conversation_prefix: "conversation"

# --- One-shot API (e.g. for tests) ----------------------------------------------
api:
  enabled: true
  host: "127.0.0.1"
  port: 8013

security:
  enabled: true
  guard: BasicGuard
  prompt_injection_protection: true
  pii_protection: false
  output_blocklist: true
  # Input: block injections/PII. Output: mask PII, block secrets.
